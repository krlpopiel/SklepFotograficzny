generator client {
  provider = "prisma-client-js"
  output  = "node_modules/.prisma/client"
  binaryTargets = ["native", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Produkt {
  id                 String   @id @default(auto()) @map("_id") @db.ObjectId
  kategoria          String   
  marka              String
  model              String
  cena               Float
  ilosc_na_magazynie Int
  metadane           Json     
  
  @@map("produkty") 
}

model Uzytkownik {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  imie           String
  email          String   @unique
  haslo          String
  rola           String   @default("uzytkownik") // 'uzytkownik' lub 'admin'
  dataUtworzenia DateTime @default(now())
}

model Zamowienie{
  id                  String   @id @default(auto()) @map("_id") @db.ObjectId
  status              String
  uzytkownik          String 
  dataZamowienia      DateTime @default(now())
  sumaCalkowita      Float
  metodaWysylki      String
  kosztWysylki       Float
}

model ProduktyZamowienia{
  id            String @id @default(auto()) @map("_id") @db.ObjectId 
  idZamowienia  String
  idProduktu    String
  cenaProduktu  Float
  ilosc         Int
}

model SlownikOpcji {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  kategoria String 
  pole      String 
  wartosc   String 

  @@unique([kategoria, pole, wartosc]) 
}